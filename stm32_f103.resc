##############################################################
# stm32f103 - Renode Script
##############################################################

# Create machine
mach create "stm32f103"

# Load platform description
machine LoadPlatformDescription @platforms/cpus/stm32f103.repl

# Load firmware
sysbus LoadELF @stm32app.elf

# Show UART analyzer window
showAnalyzer sysbus.usart1
logLevel 3 sysbus.usart1

# Start GDB server
machine StartGdbServer 3333

# Start emulation
start

echo ""
